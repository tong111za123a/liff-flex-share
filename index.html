<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LIFF ‡πÅ‡∏ä‡∏£‡πå Flex GIF</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>

  <div style="text-align:center; margin-top:50px;">
    <h2>‡πÅ‡∏ä‡∏£‡πå GIF ‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô LINE üòé</h2>
    <button 
      onclick="shareFlex()" 
      style="font-size:20px; padding:14px 28px; border:none; border-radius:8px; background:#00B900; color:white; cursor:pointer;">
      ‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏•‡∏¢!
    </button>
  </div>

<script>
  liff.init({ liffId: "2008621627-1eN2VA2x" })
    .then(() => console.log("LIFF ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢"))
    .catch(err => console.error("LIFF init ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß", err));

  async function shareFlex() {
    const flexMessage = {
      type: "flex",
      altText: "‡∏™‡πà‡∏á Flex GIF ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô!",
      contents: {
        type: "bubble",
        hero: {
          type: "image",
          url: "https://media.giphy.com/media/ICOgUNjpvO0PC/giphy.gif",
          size: "full",
          aspectRatio: "1:1",
          aspectMode: "cover",
          animated: true
        },
        body: {
          type: "box",
          layout: "vertical",
          contents: [
            {
              type: "text",
              text: "‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ GIF ‡∏™‡∏∏‡∏î‡πÄ‡∏à‡πã‡∏á! üéâ",
              weight: "bold",
              size: "xl",
              align: "center"
            },
            {
              type: "text",
              text: "‡πÅ‡∏ä‡∏£‡πå‡∏à‡∏≤‡∏Å LIFF",
              size: "md",
              color: "#555555",
              align: "center"
            }
          ]
        }
      }
    };

    if (!liff.isInClient()) {
      alert("‚ö† ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ô‡∏µ‡πâ‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏≠‡∏õ LINE ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô");
      return;
    }

    try {
      await liff.shareTargetPicker([flexMessage]);
      alert("‚ú® ‡πÅ‡∏ä‡∏£‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!");
    } catch (error) {
      console.error(error);
      alert("‚ùå ‡πÅ‡∏ä‡∏£‡πå‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß");
    }
  }
</script>

</body>
</html>