<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LIFF ‡πÅ‡∏ä‡∏£‡πå Flex</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>

<div style="display:flex;justify-content:center;margin-top:60px;">
  <button onclick="shareFlex()" style="font-size:20px;padding:16px 30px;border:none;border-radius:8px;cursor:pointer;">
    ‡πÅ‡∏ä‡∏£‡πå Flex ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏•‡∏¢!
  </button>
</div>

<script>
liff.init({ liffId: "2008621627-1eN2VA2x" })
  .catch(err => console.error("LIFF init error", err));

async function shareFlex() {
  const flex = {
    "type": "flex",
    "altText": "‡∏£‡∏±‡∏ö ‡πÇ‡∏û‡∏™ ‡πÅ‡∏ä‡∏£‡πå ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡∏£‡∏π‡∏õ",
    "contents": {
      "type": "bubble",
      "size": "giga",
      "body": {
        "type": "box",
        "layout": "vertical",
        "contents": [
          {
            "type": "text",
            "text": "‡∏£‡∏∞‡∏ö‡∏ö PYTHON  AUTOPOST",
            "weight": "bold",
            "size": "xl",
            "wrap": true,
            "align": "center"
          }
        ],
        "backgroundColor": "#000000"
      },
      "footer": {
        "type": "box",
        "layout": "vertical",
        "spacing": "sm",
        "contents": [
          {
            "type": "button",
            "style": "primary",
            "height": "sm",
            "action": {
              "type": "uri",
              "label": "‡πÇ‡∏û‡∏™‡∏£‡∏π‡∏õ FLEX MESSAGE",
              "uri": "https://line.me/ti/p/~mc357.com"
            }
          },
          {
            "type": "button",
            "style": "link",
            "height": "sm",
            "action": {
              "type": "uri",
              "label": "‡∏™‡∏ô‡πÉ‡∏à‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ üëá",
              "uri": "https://line.me/ti/p/~mc357.com"
            }
          },
          {
            "type": "button",
            "action": {
              "type": "uri",
              "uri": "https://line.me/ti/p/~mc357.com",
              "label": "‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏î‡∏π üòò"
            },
            "style": "primary",
            "color": "#000000"
          }
        ],
        "backgroundColor": "#99ffff"
      }
    }
  };

  if (!liff.isInClient()) {
    alert("‚ö† ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ LINE ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô");
    return;
  }

  try {
    await liff.shareTargetPicker([flex]);
    alert("‚ú® ‡πÅ‡∏ä‡∏£‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
  } catch(e) {
    alert("‚ùå ‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
    console.error(e);
  }
}
</script>

</body>
</html>